# Copyright 2022 Canonical Ltd.
# See LICENSE file for licensing details.
name: mysql-router
display-name: MySQL Router
maintainers:
  - Carl Csaposs <carl.csaposs@canonical.com>
  - Paulo Machado <paulo.machado@canonical.com>
  - Shayan Patel <shayan.patel@canonical.com>
description: |
  Machine charmed operator for mysql-router.
summary: |
  Machine charmed operator for mysql-router.
  Enables effective access to a MySQL cluster with Group Replication.
subordinate: true
provides:
# TODO: re-implement legacy relation
#  shared-db:
#    interface: mysql-shared
#    scope: container
  database:
    interface: mysql_client
    scope: container
requires:
  backend-database:
    interface: mysql_client
    limit: 1
  # Workaround: Subordinate charms are required to have at least one `requires` endpoint with
  # `scope: container`
  juju-info:
    interface: juju-info
    scope: container
# TODO TLS VM: re-enable peer relation
#peers:
#  mysql-router-peers:
#    interface: mysql_router_peers
