{"uid":"b674d5924e8ee1cd","name":"test_fail_and_rollback","fullName":"tests.integration.test_upgrade#test_fail_and_rollback","historyId":"997774fbf319c1a457fb1c7123a70c21","time":{"start":1741657411860,"stop":1741657510508,"duration":98648},"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    Furthermore, the previous test will refresh the charm till revision 102.\n    This test will refresh the charm till the revision in src/snap.py, thus avoiding\n    no-ops.\n    ","descriptionHtml":"<p>Upgrade to an invalid version and test rollback.</p>\n<pre><code>Relies on the charm built in the previous test (test_upgrade_from_edge).\nFurthermore, the previous test will refresh the charm till revision 102.\nThis test will refresh the charm till the revision in src/snap.py, thus avoiding\nno-ops.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1741656900469,"stop":1741656900470,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1741656900470,"stop":1741656900574,"duration":104},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1741656900470,"stop":1741656900470,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1741657411860,"stop":1741657411860,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1741657411860,"stop":1741657411860,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1741657411860,"stop":1741657411860,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ubuntu_base","time":{"start":1741657411860,"stop":1741657411860,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    Furthermore, the previous test will refresh the charm till revision 102.\n    This test will refresh the charm till the revision in src/snap.py, thus avoiding\n    no-ops.\n    ","status":"passed","steps":[],"attachments":[{"uid":"7cf7ecb1d3298b84","name":"log","source":"7cf7ecb1d3298b84.txt","type":"text/plain","size":5816}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1741657510512,"stop":1741657510514,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1741657510514,"stop":1741657511902,"duration":1388},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1741657511902,"stop":1741657511908,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1741657511908,"stop":1741657511908,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1741657511908,"stop":1741657511908,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_upgrade"},{"name":"host","value":"fv-az1674-586"},{"name":"thread","value":"14649-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"f1b2b09f6ea41955","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":2,"passed":25,"unknown":0,"total":27},"items":[{"uid":"18f56d5e95745652","reportUrl":"../1750//#testresult/18f56d5e95745652","status":"passed","time":{"start":1741571198086,"stop":1741571319387,"duration":121301}},{"uid":"b7badff039d19954","reportUrl":"../1749//#testresult/b7badff039d19954","status":"passed","time":{"start":1741485011643,"stop":1741485113083,"duration":101440}},{"uid":"578b93de638fbaea","reportUrl":"../1748//#testresult/578b93de638fbaea","status":"passed","time":{"start":1741398686259,"stop":1741398797478,"duration":111219}},{"uid":"389b0669bcdd9438","reportUrl":"../1747//#testresult/389b0669bcdd9438","status":"passed","time":{"start":1741312090129,"stop":1741312194075,"duration":103946}},{"uid":"f81ff7240953a8d9","reportUrl":"../1745//#testresult/f81ff7240953a8d9","status":"passed","time":{"start":1741225758880,"stop":1741225871858,"duration":112978}},{"uid":"5ecc4177e3bea885","reportUrl":"../1744//#testresult/5ecc4177e3bea885","status":"passed","time":{"start":1741139265279,"stop":1741139379957,"duration":114678}},{"uid":"c753d48460c5dabb","reportUrl":"../1733//#testresult/c753d48460c5dabb","status":"passed","time":{"start":1741053518428,"stop":1741053640829,"duration":122401}},{"uid":"d38d1f3fc0f1e246","reportUrl":"../1728//#testresult/d38d1f3fc0f1e246","status":"passed","time":{"start":1740966098398,"stop":1740966215736,"duration":117338}},{"uid":"eebae0c1fec86c36","reportUrl":"../1727//#testresult/eebae0c1fec86c36","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1740880108057,"stop":1740880108057,"duration":0}},{"uid":"85c46f5674e97277","reportUrl":"../1726//#testresult/85c46f5674e97277","status":"passed","time":{"start":1740793800235,"stop":1740793912307,"duration":112072}},{"uid":"8d298c54eaabb4b5","reportUrl":"../1722//#testresult/8d298c54eaabb4b5","status":"passed","time":{"start":1740707375991,"stop":1740707476245,"duration":100254}},{"uid":"831fcd269a59c6b9","reportUrl":"../1715//#testresult/831fcd269a59c6b9","status":"passed","time":{"start":1740621127542,"stop":1740621230139,"duration":102597}},{"uid":"c24e29149d243569","reportUrl":"../1714//#testresult/c24e29149d243569","status":"passed","time":{"start":1740534634536,"stop":1740534750093,"duration":115557}},{"uid":"8a49e3a00d2945b4","reportUrl":"../1710//#testresult/8a49e3a00d2945b4","status":"passed","time":{"start":1740361453638,"stop":1740361572113,"duration":118475}},{"uid":"c1e06a3308439fd","reportUrl":"../1709//#testresult/c1e06a3308439fd","status":"passed","time":{"start":1740275069459,"stop":1740275188618,"duration":119159}},{"uid":"7c92c4b857b16f8c","reportUrl":"../1708//#testresult/7c92c4b857b16f8c","status":"passed","time":{"start":1740188574288,"stop":1740188689735,"duration":115447}},{"uid":"82a40413cfc6a99","reportUrl":"../1705//#testresult/82a40413cfc6a99","status":"passed","time":{"start":1740102412853,"stop":1740102518968,"duration":106115}},{"uid":"c5c7877f972dab7f","reportUrl":"../1702//#testresult/c5c7877f972dab7f","status":"passed","time":{"start":1740016663362,"stop":1740016780099,"duration":116737}},{"uid":"e19968e69efe5bff","reportUrl":"../1701//#testresult/e19968e69efe5bff","status":"passed","time":{"start":1739930007228,"stop":1739930108392,"duration":101164}},{"uid":"f1d8dde9212999cd","reportUrl":"../1694//#testresult/f1d8dde9212999cd","status":"passed","time":{"start":1739843044123,"stop":1739843143345,"duration":99222}}]},"tags":["asyncio","abort_on_fail"]},"source":"b674d5924e8ee1cd.json","parameterValues":[]}