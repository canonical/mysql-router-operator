{"uid":"82a40413cfc6a99","name":"test_fail_and_rollback","fullName":"tests.integration.test_upgrade#test_fail_and_rollback","historyId":"997774fbf319c1a457fb1c7123a70c21","time":{"start":1740102412853,"stop":1740102518968,"duration":106115},"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    Furthermore, the previous test will refresh the charm till revision 102.\n    This test will refresh the charm till the revision in src/snap.py, thus avoiding\n    no-ops.\n    ","descriptionHtml":"<p>Upgrade to an invalid version and test rollback.</p>\n<pre><code>Relies on the charm built in the previous test (test_upgrade_from_edge).\nFurthermore, the previous test will refresh the charm till revision 102.\nThis test will refresh the charm till the revision in src/snap.py, thus avoiding\nno-ops.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1740101930359,"stop":1740101930360,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1740101930360,"stop":1740101930360,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1740101930360,"stop":1740101930470,"duration":110},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ubuntu_base","time":{"start":1740102412852,"stop":1740102412853,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1740102412852,"stop":1740102412852,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1740102412853,"stop":1740102412853,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1740102412853,"stop":1740102412853,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    Furthermore, the previous test will refresh the charm till revision 102.\n    This test will refresh the charm till the revision in src/snap.py, thus avoiding\n    no-ops.\n    ","status":"passed","steps":[],"attachments":[{"uid":"cc99b05996dc875","name":"log","source":"cc99b05996dc875.txt","type":"text/plain","size":5793}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1740102518969,"stop":1740102518969,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1740102518970,"stop":1740102520085,"duration":1115},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1740102520085,"stop":1740102520085,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1740102520085,"stop":1740102520086,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1740102520086,"stop":1740102520086,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_upgrade"},{"name":"host","value":"fv-az1049-328"},{"name":"thread","value":"14839-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ddcc74da715e09da","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":1,"passed":9,"unknown":0,"total":10},"items":[{"uid":"c5c7877f972dab7f","reportUrl":"../1702//#testresult/c5c7877f972dab7f","status":"passed","time":{"start":1740016663362,"stop":1740016780099,"duration":116737}},{"uid":"e19968e69efe5bff","reportUrl":"../1701//#testresult/e19968e69efe5bff","status":"passed","time":{"start":1739930007228,"stop":1739930108392,"duration":101164}},{"uid":"f1d8dde9212999cd","reportUrl":"../1694//#testresult/f1d8dde9212999cd","status":"passed","time":{"start":1739843044123,"stop":1739843143345,"duration":99222}},{"uid":"7e31f4e5131987b7","reportUrl":"../1687//#testresult/7e31f4e5131987b7","status":"passed","time":{"start":1739757012718,"stop":1739757132135,"duration":119417}},{"uid":"c179d7e78ce909be","reportUrl":"../1686//#testresult/c179d7e78ce909be","status":"passed","time":{"start":1739670014456,"stop":1739670132064,"duration":117608}},{"uid":"5cbf550e52a5d3fc","reportUrl":"../1685//#testresult/5cbf550e52a5d3fc","status":"passed","time":{"start":1739583523346,"stop":1739583641130,"duration":117784}},{"uid":"327bf97f6d021334","reportUrl":"../1680//#testresult/327bf97f6d021334","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1739497014204,"stop":1739497014204,"duration":0}},{"uid":"8efdd6114f352c24","reportUrl":"../1674//#testresult/8efdd6114f352c24","status":"passed","time":{"start":1739411490619,"stop":1739411606154,"duration":115535}},{"uid":"e05fb0f3cc61ade1","reportUrl":"../1661//#testresult/e05fb0f3cc61ade1","status":"passed","time":{"start":1739238052006,"stop":1739238166472,"duration":114466}}]},"tags":["asyncio","abort_on_fail"]},"source":"82a40413cfc6a99.json","parameterValues":[]}