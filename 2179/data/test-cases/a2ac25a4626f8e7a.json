{"uid":"a2ac25a4626f8e7a","name":"test_fail_and_rollback","fullName":"tests.integration.test_upgrade#test_fail_and_rollback","historyId":"997774fbf319c1a457fb1c7123a70c21","time":{"start":1748742675446,"stop":1748742791510,"duration":116064},"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    Furthermore, the previous test will refresh the charm till revision 102.\n    This test will refresh the charm till the revision in src/snap.py, thus avoiding\n    no-ops.\n    ","descriptionHtml":"<p>Upgrade to an invalid version and test rollback.</p>\n<pre><code>Relies on the charm built in the previous test (test_upgrade_from_edge).\nFurthermore, the previous test will refresh the charm till revision 102.\nThis test will refresh the charm till the revision in src/snap.py, thus avoiding\nno-ops.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1748742143698,"stop":1748742143698,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1748742143698,"stop":1748742143803,"duration":105},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1748742143698,"stop":1748742143698,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1748742675445,"stop":1748742675445,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ubuntu_base","time":{"start":1748742675445,"stop":1748742675445,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1748742675445,"stop":1748742675445,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1748742675446,"stop":1748742675446,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    Furthermore, the previous test will refresh the charm till revision 102.\n    This test will refresh the charm till the revision in src/snap.py, thus avoiding\n    no-ops.\n    ","status":"passed","steps":[],"attachments":[{"uid":"b0e9042abf29b346","name":"log","source":"b0e9042abf29b346.txt","type":"text/plain","size":6228}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"ops_test::finalizer","time":{"start":1748742791511,"stop":1748742794322,"duration":2811},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1748742791511,"stop":1748742791511,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1748742794322,"stop":1748742794323,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1748742794323,"stop":1748742794323,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1748742794323,"stop":1748742794323,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_upgrade"},{"name":"host","value":"fv-az1046-413"},{"name":"thread","value":"18482-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"8d7f25284d078db2","status":"passed","time":{"start":1748742216438,"stop":1748742329403,"duration":112965}},{"uid":"f5a35d4399642c6","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":3,"passed":75,"unknown":3,"total":81},"items":[{"uid":"63d1ee4b08d2e96b","reportUrl":"../2178//#testresult/63d1ee4b08d2e96b","status":"passed","time":{"start":1748656258561,"stop":1748656377946,"duration":119385}},{"uid":"21877c9f2badfe1d","reportUrl":"../2177//#testresult/21877c9f2badfe1d","status":"passed","time":{"start":1748569800022,"stop":1748569926098,"duration":126076}},{"uid":"5db2338e3450e6d8","reportUrl":"../2176//#testresult/5db2338e3450e6d8","status":"passed","time":{"start":1748483279808,"stop":1748483401274,"duration":121466}},{"uid":"bf79d00515b4513a","reportUrl":"../2175//#testresult/bf79d00515b4513a","status":"passed","time":{"start":1748397084115,"stop":1748397216729,"duration":132614}},{"uid":"5c4a8c86742f2b34","reportUrl":"../2171//#testresult/5c4a8c86742f2b34","status":"unknown","time":{}},{"uid":"4c9131841076d3e0","reportUrl":"../2170//#testresult/4c9131841076d3e0","status":"passed","time":{"start":1748224241137,"stop":1748224353801,"duration":112664}},{"uid":"1ddbaaee652857fb","reportUrl":"../2168//#testresult/1ddbaaee652857fb","status":"passed","time":{"start":1748051430790,"stop":1748051549634,"duration":118844}},{"uid":"a13eb19d2d9bcdc7","reportUrl":"../2167//#testresult/a13eb19d2d9bcdc7","status":"passed","time":{"start":1747964865477,"stop":1747964985436,"duration":119959}},{"uid":"b1972b8c82e0ffd3","reportUrl":"../2162//#testresult/b1972b8c82e0ffd3","status":"passed","time":{"start":1747878558888,"stop":1747878671292,"duration":112404}},{"uid":"44f0d1f283586f6","reportUrl":"../2069//#testresult/44f0d1f283586f6","status":"passed","time":{"start":1745804865450,"stop":1745804969870,"duration":104420}},{"uid":"b285cc9916b807bf","reportUrl":"../2068//#testresult/b285cc9916b807bf","status":"passed","time":{"start":1745718728339,"stop":1745718834721,"duration":106382}},{"uid":"2932ca62ea69d4f6","reportUrl":"../2067//#testresult/2932ca62ea69d4f6","status":"passed","time":{"start":1745632131544,"stop":1745632243903,"duration":112359}},{"uid":"bf9e1ce2109505c","reportUrl":"../2066//#testresult/bf9e1ce2109505c","status":"passed","time":{"start":1745545611505,"stop":1745545730087,"duration":118582}},{"uid":"4af3ee8cb50e3a82","reportUrl":"../2045//#testresult/4af3ee8cb50e3a82","status":"passed","time":{"start":1745459484033,"stop":1745459593504,"duration":109471}},{"uid":"345ca599bd88c743","reportUrl":"../2043//#testresult/345ca599bd88c743","status":"passed","time":{"start":1745373127560,"stop":1745373227656,"duration":100096}},{"uid":"16fec9fd7751d390","reportUrl":"../2031//#testresult/16fec9fd7751d390","status":"passed","time":{"start":1745286724958,"stop":1745286835306,"duration":110348}},{"uid":"90a92ba54c83a510","reportUrl":"../2030//#testresult/90a92ba54c83a510","status":"passed","time":{"start":1745200264311,"stop":1745200387382,"duration":123071}},{"uid":"7d8b8bcb3732fe4","reportUrl":"../2029//#testresult/7d8b8bcb3732fe4","status":"passed","time":{"start":1745113774118,"stop":1745113877640,"duration":103522}},{"uid":"9f0a2d00cc1d14e7","reportUrl":"../2028//#testresult/9f0a2d00cc1d14e7","status":"passed","time":{"start":1745027392883,"stop":1745027501458,"duration":108575}},{"uid":"e6c0bea080e159cc","reportUrl":"../2027//#testresult/e6c0bea080e159cc","status":"passed","time":{"start":1744941083081,"stop":1744941185945,"duration":102864}}]},"tags":["asyncio","abort_on_fail"]},"source":"a2ac25a4626f8e7a.json","parameterValues":[]}