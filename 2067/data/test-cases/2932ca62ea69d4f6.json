{"uid":"2932ca62ea69d4f6","name":"test_fail_and_rollback","fullName":"tests.integration.test_upgrade#test_fail_and_rollback","historyId":"997774fbf319c1a457fb1c7123a70c21","time":{"start":1745632131544,"stop":1745632243903,"duration":112359},"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    Furthermore, the previous test will refresh the charm till revision 102.\n    This test will refresh the charm till the revision in src/snap.py, thus avoiding\n    no-ops.\n    ","descriptionHtml":"<p>Upgrade to an invalid version and test rollback.</p>\n<pre><code>Relies on the charm built in the previous test (test_upgrade_from_edge).\nFurthermore, the previous test will refresh the charm till revision 102.\nThis test will refresh the charm till the revision in src/snap.py, thus avoiding\nno-ops.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1745631604050,"stop":1745631604051,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1745631604051,"stop":1745631604051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1745631604051,"stop":1745631604155,"duration":104},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ubuntu_base","time":{"start":1745632131543,"stop":1745632131543,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1745632131543,"stop":1745632131543,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1745632131543,"stop":1745632131543,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1745632131544,"stop":1745632131544,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    Furthermore, the previous test will refresh the charm till revision 102.\n    This test will refresh the charm till the revision in src/snap.py, thus avoiding\n    no-ops.\n    ","status":"passed","steps":[],"attachments":[{"uid":"d390c638cc8873c4","name":"log","source":"d390c638cc8873c4.txt","type":"text/plain","size":5844}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1745632243907,"stop":1745632243907,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1745632243907,"stop":1745632244962,"duration":1055},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1745632244962,"stop":1745632244962,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1745632244962,"stop":1745632244962,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1745632244962,"stop":1745632244962,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_upgrade"},{"name":"host","value":"fv-az1361-908"},{"name":"thread","value":"14045-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"864d008e55bf18a2","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":3,"passed":64,"unknown":2,"total":69},"items":[{"uid":"bf9e1ce2109505c","reportUrl":"../2066//#testresult/bf9e1ce2109505c","status":"passed","time":{"start":1745545611505,"stop":1745545730087,"duration":118582}},{"uid":"4af3ee8cb50e3a82","reportUrl":"../2045//#testresult/4af3ee8cb50e3a82","status":"passed","time":{"start":1745459484033,"stop":1745459593504,"duration":109471}},{"uid":"345ca599bd88c743","reportUrl":"../2043//#testresult/345ca599bd88c743","status":"passed","time":{"start":1745373127560,"stop":1745373227656,"duration":100096}},{"uid":"16fec9fd7751d390","reportUrl":"../2031//#testresult/16fec9fd7751d390","status":"passed","time":{"start":1745286724958,"stop":1745286835306,"duration":110348}},{"uid":"90a92ba54c83a510","reportUrl":"../2030//#testresult/90a92ba54c83a510","status":"passed","time":{"start":1745200264311,"stop":1745200387382,"duration":123071}},{"uid":"7d8b8bcb3732fe4","reportUrl":"../2029//#testresult/7d8b8bcb3732fe4","status":"passed","time":{"start":1745113774118,"stop":1745113877640,"duration":103522}},{"uid":"9f0a2d00cc1d14e7","reportUrl":"../2028//#testresult/9f0a2d00cc1d14e7","status":"passed","time":{"start":1745027392883,"stop":1745027501458,"duration":108575}},{"uid":"e6c0bea080e159cc","reportUrl":"../2027//#testresult/e6c0bea080e159cc","status":"passed","time":{"start":1744941083081,"stop":1744941185945,"duration":102864}},{"uid":"30160725a4c8aec5","reportUrl":"../2017//#testresult/30160725a4c8aec5","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1744854606237,"stop":1744854606237,"duration":0}},{"uid":"1bd6a004086d4ab3","reportUrl":"../2016//#testresult/1bd6a004086d4ab3","status":"passed","time":{"start":1744768418227,"stop":1744768538204,"duration":119977}},{"uid":"5c55c2b2c3a545","reportUrl":"../2002//#testresult/5c55c2b2c3a545","status":"passed","time":{"start":1744682002379,"stop":1744682114187,"duration":111808}},{"uid":"71bddc93bc5962c0","reportUrl":"../2001//#testresult/71bddc93bc5962c0","status":"unknown","time":{}},{"uid":"7fd51f4e5cfb43c","reportUrl":"../1999//#testresult/7fd51f4e5cfb43c","status":"unknown","time":{}},{"uid":"790f4ba6e64a1a08","reportUrl":"../1970//#testresult/790f4ba6e64a1a08","status":"passed","time":{"start":1744336199921,"stop":1744336319391,"duration":119470}},{"uid":"2767a8f372cc57e1","reportUrl":"../1949//#testresult/2767a8f372cc57e1","status":"passed","time":{"start":1744249776360,"stop":1744249885637,"duration":109277}},{"uid":"c36db16ffc50f466","reportUrl":"../1948//#testresult/c36db16ffc50f466","status":"passed","time":{"start":1744163311951,"stop":1744163430237,"duration":118286}},{"uid":"9a96ccd4070e57c2","reportUrl":"../1912//#testresult/9a96ccd4070e57c2","status":"passed","time":{"start":1744077120564,"stop":1744077240008,"duration":119444}},{"uid":"4e095a2d9f326a6e","reportUrl":"../1887//#testresult/4e095a2d9f326a6e","status":"passed","time":{"start":1743990713209,"stop":1743990821721,"duration":108512}},{"uid":"68007f303f94687b","reportUrl":"../1886//#testresult/68007f303f94687b","status":"passed","time":{"start":1743904219606,"stop":1743904331995,"duration":112389}},{"uid":"70e26fe7fd2b51d4","reportUrl":"../1885//#testresult/70e26fe7fd2b51d4","status":"passed","time":{"start":1743817934537,"stop":1743818051883,"duration":117346}}]},"tags":["asyncio","abort_on_fail"]},"source":"2932ca62ea69d4f6.json","parameterValues":[]}